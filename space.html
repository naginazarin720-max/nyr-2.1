<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Meteor + Alien Board</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<button class="next-page-btn" id="startMeteorBtn">Start Meteor Shower 5s</button>
<button class="next-page-btn" id="goFinalBtn" style="display:none;">Go to Final Page</button>

<canvas id="meteorCanvas"></canvas>

<div class="alien-board" id="alienBoard">
  <div class="hanging-board">You made it! ðŸ‘½ðŸ’›</div>
  <img src="alien.png" alt="Alien waving">
</div>

<script>
const meteorCanvas = document.getElementById('meteorCanvas');
const ctx = meteorCanvas.getContext('2d');
meteorCanvas.width = window.innerWidth;
meteorCanvas.height = window.innerHeight;

// Meteor creation
let meteors = [];

function createMeteors() {
  meteors = [];
  for(let i=0; i<80; i++){
    meteors.push({
      x: Math.random()*meteorCanvas.width,
      y: Math.random()*meteorCanvas.height,
      length: Math.random()*80 + 20,
      speed: Math.random()*4 + 2,
      angle: Math.random()*0.2 + 0.2
    });
  }
}

// Animate meteors
function animateMeteors(){
  ctx.clearRect(0,0,meteorCanvas.width,meteorCanvas.height);
  ctx.strokeStyle = 'rgba(255,255,255,0.8)';
  ctx.lineWidth = 2;
  meteors.forEach(m => {
    ctx.beginPath();
    ctx.moveTo(m.x, m.y);
    ctx.lineTo(m.x - m.length*m.angle, m.y + m.length);
    ctx.stroke();
    m.x -= m.speed * m.angle;
    m.y += m.speed;
    if(m.y > meteorCanvas.height || m.x < 0){
      m.x = Math.random()*meteorCanvas.width;
      m.y = -50;
    }
  });
  requestAnimationFrame(animateMeteors);
}

// Start meteor for 5s
document.getElementById('startMeteorBtn').addEventListener('click', () => {
  createMeteors();
  animateMeteors();
  setTimeout(() => {
    ctx.clearRect(0,0,meteorCanvas.width,meteorCanvas.height);
    document.getElementById('meteorCanvas').style.display='none';
    document.getElementById('alienBoard').style.display='block';
    document.getElementById('goFinalBtn').style.display='inline-block';
  }, 5000);
});

document.getElementById('goFinalBtn').addEventListener('click', () => {
  alert('You reached the final interaction!'); // Or go to another page if needed
});

// Handle resize
window.addEventListener('resize', () => {
  meteorCanvas.width = window.innerWidth;
  meteorCanvas.height = window.innerHeight;
});
</script>

</body>
</html>
